<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' http: https:" />
  <title>Spaztick</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <div class="main-area">
    <aside id="left-panel" class="panel left-panel">
      <div class="panel-header navigator-header">
        <button type="button" id="navigator-refresh-btn" class="icon-btn" title="Refresh" aria-label="Refresh navigator">
          <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M4.06189 13C4.02104 12.6724 4 12.3387 4 12C4 7.58172 7.58172 4 12 4C14.5006 4 16.7332 5.14727 18.2002 6.94416M19.9381 11C19.979 11.3276 20 11.6613 20 12C20 16.4183 16.4183 20 12 20C9.61061 20 7.46589 18.9525 6 17.2916M9 17H6V17.2916M18.2002 4V6.94416M18.2002 6.94416V6.99993L15.2002 7M6 20V17.2916"/></svg>
        </button>
        <h2>Navigator</h2>
      </div>
      <nav class="panel-content">
        <button type="button" id="inbox-item" class="nav-inbox-row" data-type="inbox" title="Tasks with no project" aria-label="Inbox">
          <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M4 14H6.67452C7.1637 14 7.40829 14 7.63846 14.0553C7.84254 14.1043 8.03763 14.1851 8.21657 14.2947C8.4184 14.4184 8.59136 14.5914 8.93726 14.9373L9.06274 15.0627C9.40865 15.4086 9.5816 15.5816 9.78343 15.7053C9.96237 15.8149 10.1575 15.8957 10.3615 15.9447C10.5917 16 10.8363 16 11.3255 16H12.6745C13.1637 16 13.4083 16 13.6385 15.9447C13.8425 15.8957 14.0376 15.8149 14.2166 15.7053C14.4184 15.5816 14.5914 15.4086 14.9373 15.0627L15.0627 14.9373C15.4086 14.5914 15.5816 14.4184 15.7834 14.2947C15.9624 14.1851 16.1575 14.1043 16.3615 14.0553C16.5917 14 16.8363 14 17.3255 14H20M7.2 4H16.8C17.9201 4 18.4802 4 18.908 4.21799C19.2843 4.40973 19.5903 4.71569 19.782 5.09202C20 5.51984 20 6.07989 20 7.2V16.8C20 17.9201 20 18.4802 19.782 18.908C19.5903 19.2843 19.2843 19.5903 18.908 19.782C18.4802 20 17.9201 20 16.8 20H7.2C6.0799 20 5.51984 20 5.09202 19.782C4.71569 19.5903 4.40973 19.2843 4.21799 18.908C4 18.4802 4 17.9201 4 16.8V7.2C4 6.0799 4 5.51984 4.21799 5.09202C4.40973 4.71569 4.71569 4.40973 5.09202 4.21799C5.51984 4 6.0799 4 7.2 4Z" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span class="nav-section-title-text">Inbox</span>
          <span class="nav-item-count" id="inbox-count"></span>
        </button>
        <section class="nav-section" id="nav-section-projects" data-section="projects">
          <button type="button" class="nav-section-header" aria-expanded="true" aria-controls="nav-section-projects-body">
            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 6C2 4.34315 3.34315 3 5 3H7.75093C8.82997 3 9.86325 3.43595 10.6162 4.20888L9.94852 4.85927L10.6162 4.20888L11.7227 5.34484C11.911 5.53807 12.1693 5.64706 12.4391 5.64706H16.4386C18.5513 5.64706 20.281 7.28495 20.4284 9.35939C21.7878 9.88545 22.5642 11.4588 21.977 12.927L20.1542 17.4853C19.5468 19.0041 18.0759 20 16.4402 20H6C4.88522 20 3.87543 19.5427 3.15116 18.8079C2.44035 18.0867 2 17.0938 2 16V6ZM18.3829 9.17647C18.1713 8.29912 17.3812 7.64706 16.4386 7.64706H12.4391C11.6298 7.64706 10.8548 7.3201 10.2901 6.7404L9.18356 5.60444L9.89987 4.90666L9.18356 5.60444C8.80709 5.21798 8.29045 5 7.75093 5H5C4.44772 5 4 5.44772 4 6V14.4471L5.03813 11.25C5.43958 10.0136 6.59158 9.17647 7.89147 9.17647H18.3829ZM5.03034 17.7499L6.94036 11.8676C7.07417 11.4555 7.45817 11.1765 7.89147 11.1765H19.4376C19.9575 11.1765 20.3131 11.7016 20.12 12.1844L18.2972 16.7426C17.9935 17.502 17.258 18 16.4402 18H6C5.64785 18 5.31756 17.9095 5.03034 17.7499Z"/></svg>
            <span class="nav-section-title-text">Projects</span>
            <svg class="nav-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="nav-section-body" id="nav-section-projects-body">
            <ul class="nav-list" id="projects-list">
              <li class="nav-item placeholder">Loading…</li>
            </ul>
          </div>
        </section>
        <section class="nav-section" id="nav-section-lists" data-section="lists">
          <button type="button" class="nav-section-header" aria-expanded="true" aria-controls="nav-section-lists-body">
            <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M8 5.00005C7.01165 5.00082 6.49359 5.01338 6.09202 5.21799C5.71569 5.40973 5.40973 5.71569 5.21799 6.09202C5 6.51984 5 7.07989 5 8.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.07989 21 8.2 21H15.8C16.9201 21 17.4802 21 17.908 20.782C18.2843 20.5903 18.5903 20.2843 18.782 19.908C19 19.4802 19 18.9201 19 17.8V8.2C19 7.07989 19 6.51984 18.782 6.09202C18.5903 5.71569 18.2843 5.40973 17.908 5.21799C17.5064 5.01338 16.9884 5.00082 16 5.00005M8 5.00005V7H16V5.00005M8 5.00005V4.70711C8 4.25435 8.17986 3.82014 8.5 3.5C8.82014 3.17986 9.25435 3 9.70711 3H14.2929C14.7456 3 15.1799 3.17986 15.5 3.5C15.8201 3.82014 16 4.25435 16 4.70711V5.00005M15 12H12M15 16H12M9 12H9.01M9 16H9.01" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span class="nav-section-title-text">Lists</span>
            <svg class="nav-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="nav-section-body" id="nav-section-lists-body">
            <ul class="nav-list" id="lists-list">
              <li class="nav-item placeholder">—</li>
            </ul>
          </div>
        </section>
      </nav>
      <div class="left-panel-footer">
        <button type="button" id="navigator-edit-btn" class="navigator-edit-btn" title="Edit order and delete" aria-label="Edit navigator">
          <svg class="navigator-edit-icon" viewBox="0 0 15 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 8.5L4.14645 8.14645L4 8.29289V8.5H4.5ZM8.5 4.5L8.85355 4.14645C8.65829 3.95118 8.34171 3.95118 8.14645 4.14645L8.5 4.5ZM10.5 6.5L10.8536 6.85355C11.0488 6.65829 11.0488 6.34171 10.8536 6.14645L10.5 6.5ZM6.5 10.5V11H6.70711L6.85355 10.8536L6.5 10.5ZM4.5 10.5H4C4 10.7761 4.22386 11 4.5 11V10.5ZM7.5 14C3.91015 14 1 11.0899 1 7.5H0C0 11.6421 3.35786 15 7.5 15V14ZM14 7.5C14 11.0899 11.0899 14 7.5 14V15C11.6421 15 15 11.6421 15 7.5H14ZM7.5 1C11.0899 1 14 3.91015 14 7.5H15C15 3.35786 11.6421 0 7.5 0V1ZM7.5 0C3.35786 0 0 3.35786 0 7.5H1C1 3.91015 3.91015 1 7.5 1V0ZM4.85355 8.85355L8.85355 4.85355L8.14645 4.14645L4.14645 8.14645L4.85355 8.85355ZM8.14645 4.85355L10.1464 6.85355L10.8536 6.14645L8.85355 4.14645L8.14645 4.85355ZM10.1464 6.14645L6.14645 10.1464L6.85355 10.8536L10.8536 6.85355L10.1464 6.14645ZM6.5 10H4.5V11H6.5V10ZM5 10.5V8.5H4V10.5H5Z"/></svg>
        </button>
        <button type="button" id="navigator-add-btn" class="navigator-add-btn" title="Add project or list" aria-label="Add project or list" aria-haspopup="true" aria-expanded="false">
          <svg class="navigator-add-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M8 12H12M12 12H16M12 12V16M12 12V8M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z"/></svg>
        </button>
        <div id="navigator-add-popover" class="navigator-add-popover hidden" role="menu">
          <button type="button" class="navigator-add-popover-item" data-choice="project">Project</button>
          <button type="button" class="navigator-add-popover-item" data-choice="list">List</button>
        </div>
      </div>
    </aside>
    <div class="resize-handle resize-handle-vertical" id="left-panel-resize-handle" title="Drag to resize" aria-label="Resize left panel"></div>

    <main id="center-panel" class="panel center-panel">
      <div class="panel-header center-panel-header">
        <button type="button" id="center-refresh-btn" class="icon-btn" title="Refresh" aria-label="Refresh">
          <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M4.06189 13C4.02104 12.6724 4 12.3387 4 12C4 7.58172 7.58172 4 12 4C14.5006 4 16.7332 5.14727 18.2002 6.94416M19.9381 11C19.979 11.3276 20 11.6613 20 12C20 16.4183 16.4183 20 12 20C9.61061 20 7.46589 18.9525 6 17.2916M9 17H6V17.2916M18.2002 4V6.94416M18.2002 6.94416V6.99993L15.2002 7M6 20V17.2916"/></svg>
        </button>
        <h2 id="center-title">Tasks</h2>
        <div class="header-actions">
          <button type="button" id="display-settings-btn" class="icon-btn" title="Display settings" aria-label="Display settings" aria-haspopup="true" aria-expanded="false">
            <img src="assets/settings-04-svgrepo-com.svg" class="header-icon header-icon-settings" alt="" width="20" height="20" />
          </button>
          <div id="display-settings-dropdown" class="display-dropdown hidden" role="menu" aria-label="Task properties">
            <div class="display-dropdown-title">Visible columns</div>
            <div class="display-dropdown-flagged">
              <input type="checkbox" id="display-show-flagged" />
              <label for="display-show-flagged">Show focused</label>
            </div>
            <div class="display-dropdown-flagged">
              <input type="checkbox" id="display-show-completed" />
              <label for="display-show-completed">Show completed</label>
            </div>
            <div class="display-dropdown-flagged">
              <input type="checkbox" id="display-show-highlight-due" />
              <label for="display-show-highlight-due">Highlight due/overdue</label>
            </div>
            <ul id="display-properties-list" class="display-properties-list"></ul>
            <div class="display-dropdown-title">Sort</div>
            <div class="display-dropdown-flagged">
              <input type="checkbox" id="display-manual-sort" />
              <label for="display-manual-sort">Manual sort</label>
            </div>
            <div class="display-sort-levels">
              <div id="display-sort-ladder" class="display-sort-ladder"></div>
              <button type="button" id="display-sort-add" class="display-sort-add">Add sort level</button>
            </div>
          </div>
        </div>
      </div>
      <div class="panel-content" id="center-content">
        <p class="placeholder">Select a project or list from the left, or a task from here.</p>
      </div>
    </main>

    <div class="resize-handle resize-handle-vertical" id="right-panel-resize-handle" title="Drag to resize" aria-label="Resize right panel"></div>
    <aside id="right-panel" class="panel right-panel">
      <div class="panel-header">
        <h2 id="inspector-title">Inspector</h2>
      </div>
      <div class="panel-content inspector-content" id="inspector-content">
        <p class="placeholder">Select an item to inspect.</p>
      </div>
      <div class="resize-handle" id="chat-resize-handle" title="Drag to resize" aria-label="Resize chat"></div>
      <div class="chat-region" id="chat-region">
        <div class="chat-header-row">
          <button type="button" id="chat-clear" class="chat-clear-btn" title="Clear chat" aria-label="Clear chat">
            <svg class="chat-clear-icon" viewBox="0 0 1024 1024" width="16" height="16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6c-0.3 1.5-0.4 3-0.4 4.4 0 14.4 11.6 26 26 26h723c1.5 0 3-0.1 4.4-0.4 14.2-2.4 23.7-15.9 21.2-30zM204 390h272V182h72v208h272v104H204V390z m468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"/></svg>
          </button>
          <h3>Chat</h3>
        </div>
        <div class="chat-messages-wrap">
          <div class="chat-messages" id="chat-messages"></div>
          <div class="chat-typing" id="chat-typing" aria-live="polite">
            <span class="typing-dot"></span><span class="typing-dot"></span><span class="typing-dot"></span>
          </div>
        </div>
        <div class="chat-input-row">
          <input type="text" id="chat-input" placeholder="Message the model…" autocomplete="off" />
          <button type="button" id="chat-send" class="chat-send-btn" title="Send" aria-label="Send">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M11.5003 12H5.41872M5.24634 12.7972L4.24158 15.7986C3.69128 17.4424 3.41613 18.2643 3.61359 18.7704C3.78506 19.21 4.15335 19.5432 4.6078 19.6701C5.13111 19.8161 5.92151 19.4604 7.50231 18.7491L17.6367 14.1886C19.1797 13.4942 19.9512 13.1471 20.1896 12.6648C20.3968 12.2458 20.3968 11.7541 20.1896 11.3351C19.9512 10.8529 19.1797 10.5057 17.6367 9.81135L7.48483 5.24303C5.90879 4.53382 5.12078 4.17921 4.59799 4.32468C4.14397 4.45101 3.77572 4.78336 3.60365 5.22209C3.40551 5.72728 3.67772 6.54741 4.22215 8.18767L5.24829 11.2793C5.34179 11.561 5.38855 11.7019 5.407 11.8459C5.42338 11.9738 5.42321 12.1032 5.40651 12.231C5.38768 12.375 5.34057 12.5157 5.24634 12.7972Z"/></svg>
          </button>
        </div>
      </div>
    </aside>
    </div>

    <footer class="bottom-bar">
      <span id="connection-indicator" class="connection-indicator disconnected" title="Checking…" role="status" aria-label="Connection status">
        <svg class="connection-dot" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8"/></svg>
      </span>
      <button type="button" id="theme-btn" class="bar-btn" title="Cycle theme" aria-label="Cycle theme">
        <svg class="bar-icon" viewBox="0 0 32 32" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M0 16q0 3.264 1.28 6.24t3.392 5.088 5.12 3.424 6.208 1.248q3.264 0 6.24-1.248t5.088-3.424 3.392-5.088 1.28-6.24-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048zM16 26.016q2.72 0 5.024-1.344t3.648-3.648 1.344-5.024-1.344-4.992-3.648-3.648-5.024-1.344v20z"/></svg>
      </button>
      <button type="button" id="settings-btn" class="bar-btn" title="Settings" aria-label="Settings">
        <svg class="bar-icon gear-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
          <path d="M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z"/>
          <path d="M12.9046 3.06005C12.6988 3 12.4659 3 12 3C11.5341 3 11.3012 3 11.0954 3.06005C10.7942 3.14794 10.5281 3.32808 10.3346 3.57511C10.2024 3.74388 10.1159 3.96016 9.94291 4.39272C9.69419 5.01452 9.00393 5.33471 8.36857 5.123L7.79779 4.93281C7.3929 4.79785 7.19045 4.73036 6.99196 4.7188C6.70039 4.70181 6.4102 4.77032 6.15701 4.9159C5.98465 5.01501 5.83376 5.16591 5.53197 5.4677C5.21122 5.78845 5.05084 5.94882 4.94896 6.13189C4.79927 6.40084 4.73595 6.70934 4.76759 7.01551C4.78912 7.2239 4.87335 7.43449 5.04182 7.85566C5.30565 8.51523 5.05184 9.26878 4.44272 9.63433L4.16521 9.80087C3.74031 10.0558 3.52786 10.1833 3.37354 10.3588C3.23698 10.5141 3.13401 10.696 3.07109 10.893C3 11.1156 3 11.3658 3 11.8663C3 12.4589 3 12.7551 3.09462 13.0088C3.17823 13.2329 3.31422 13.4337 3.49124 13.5946C3.69158 13.7766 3.96395 13.8856 4.50866 14.1035C5.06534 14.3261 5.35196 14.9441 5.16236 15.5129L4.94721 16.1584C4.79819 16.6054 4.72367 16.829 4.7169 17.0486C4.70875 17.3127 4.77049 17.5742 4.89587 17.8067C5.00015 18.0002 5.16678 18.1668 5.5 18.5C5.83323 18.8332 5.99985 18.9998 6.19325 19.1041C6.4258 19.2295 6.68733 19.2913 6.9514 19.2831C7.17102 19.2763 7.39456 19.2018 7.84164 19.0528L8.36862 18.8771C9.00393 18.6654 9.6942 18.9855 9.94291 19.6073C10.1159 20.0398 10.2024 20.2561 10.3346 20.4249C10.5281 20.6719 10.7942 20.8521 11.0954 20.94C11.3012 21 11.5341 21 12 21C12.4659 21 12.6988 21 12.9046 20.94C13.2058 20.8521 13.4719 20.6719 13.6654 20.4249C13.7976 20.2561 13.8841 20.0398 14.0571 19.6073C14.3058 18.9855 14.9961 18.6654 15.6313 18.8773L16.1579 19.0529C16.605 19.2019 16.8286 19.2764 17.0482 19.2832C17.3123 19.2913 17.5738 19.2296 17.8063 19.1042C17.9997 18.9999 18.1664 18.8333 18.4996 18.5001C18.8328 18.1669 18.9994 18.0002 19.1037 17.8068C19.2291 17.5743 19.2908 17.3127 19.2827 17.0487C19.2759 16.8291 19.2014 16.6055 19.0524 16.1584L18.8374 15.5134C18.6477 14.9444 18.9344 14.3262 19.4913 14.1035C20.036 13.8856 20.3084 13.7766 20.5088 13.5946C20.6858 13.4337 20.8218 13.2329 20.9054 13.0088C21 12.7551 21 12.4589 21 11.8663C21 11.3658 21 11.1156 20.9289 10.893C20.866 10.696 20.763 10.5141 20.6265 10.3588C20.4721 10.1833 20.2597 10.0558 19.8348 9.80087L19.5569 9.63416C18.9478 9.26867 18.6939 8.51514 18.9578 7.85558C19.1262 7.43443 19.2105 7.22383 19.232 7.01543C19.2636 6.70926 19.2003 6.40077 19.0506 6.13181C18.9487 5.94875 18.7884 5.78837 18.4676 5.46762C18.1658 5.16584 18.0149 5.01494 17.8426 4.91583C17.5894 4.77024 17.2992 4.70174 17.0076 4.71872C16.8091 4.73029 16.6067 4.79777 16.2018 4.93273L15.6314 5.12287C14.9961 5.33464 14.3058 5.0145 14.0571 4.39272C13.8841 3.96016 13.7976 3.74388 13.6654 3.57511C13.4719 3.32808 13.2058 3.14794 12.9046 3.06005Z"/>
        </svg>
      </button>
      <div class="bar-spacer"></div>
      <button type="button" id="toggle-left" class="bar-btn" title="Toggle left panel" aria-label="Toggle left panel">
        <svg class="bar-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M28,4H4A2,2,0,0,0,2,6V26a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V6A2,2,0,0,0,28,4Zm0,22H12V6H28Z"/></svg>
      </button>
      <button type="button" id="toggle-right" class="bar-btn" title="Toggle right panel" aria-label="Toggle right panel">
        <svg class="bar-icon icon-flip" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M28,4H4A2,2,0,0,0,2,6V26a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V6A2,2,0,0,0,28,4Zm0,22H12V6H28Z"/></svg>
      </button>
    </footer>
  </div>

  <div id="settings-overlay" class="modal-overlay hidden" aria-hidden="true">
    <div class="modal" role="dialog" aria-labelledby="settings-title">
      <div class="modal-header">
        <h2 id="settings-title">Settings</h2>
        <button type="button" id="settings-close" class="modal-close" aria-label="Close">&times;</button>
      </div>
      <div class="modal-body">
        <section class="settings-section">
          <h3>Connection</h3>
          <div class="setting-row">
            <label for="settings-api-base">API base URL</label>
            <input type="url" id="settings-api-base" placeholder="http://localhost:8081" />
          </div>
          <div class="setting-row">
            <label for="settings-api-key">API key</label>
            <input type="password" id="settings-api-key" placeholder="From Spaztick web UI → External API" autocomplete="off" />
          </div>
        </section>
        <section class="settings-section">
          <h3>Display</h3>
          <div class="setting-row setting-row-checkbox">
            <input type="checkbox" id="settings-show-due-overdue-counts" />
            <label for="settings-show-due-overdue-counts">Show # of due and overdue tasks in lefthand panel</label>
          </div>
          <div class="setting-row">
            <label for="settings-date-format">Date format</label>
            <div class="date-format-setting">
              <select id="settings-date-format">
                <option value="short">Short (MM/DD/YYYY)</option>
                <option value="short-eu">Short (DD/MM/YYYY)</option>
                <option value="short-iso">Short (YYYY-MM-DD)</option>
                <option value="medium">Medium (e.g. Jan 15, 2025)</option>
                <option value="long">Long (e.g. January 15, 2025)</option>
                <option value="custom">Custom…</option>
              </select>
              <button type="button" id="custom-format-edit-btn" class="btn-secondary custom-format-edit-btn hidden" aria-label="Edit custom format">Edit custom…</button>
            </div>
          </div>
        </section>
      </div>
      <div class="modal-footer">
        <button type="button" id="settings-save" class="btn-primary">Save</button>
      </div>
    </div>
  </div>

  <div id="description-modal-overlay" class="modal-overlay hidden" aria-hidden="true">
    <div class="modal modal-description" role="dialog" aria-labelledby="description-modal-title">
      <div class="modal-header">
        <h2 id="description-modal-title">Description</h2>
        <button type="button" id="description-modal-close" class="modal-close" aria-label="Close">&times;</button>
      </div>
      <div class="modal-body description-modal-body">
        <div class="description-modal-tabs">
          <button type="button" id="description-tab-edit" class="description-tab active" aria-pressed="true">Edit</button>
          <button type="button" id="description-tab-preview" class="description-tab" aria-pressed="false">Preview</button>
        </div>
        <div id="description-edit-pane" class="description-pane">
          <textarea id="description-edit-textarea" placeholder="Add a description (Markdown supported)…" rows="12"></textarea>
        </div>
        <div id="description-preview-pane" class="description-pane hidden description-preview-content"></div>
      </div>
      <div class="modal-footer">
        <button type="button" id="description-modal-cancel" class="btn-secondary">Cancel</button>
        <button type="button" id="description-modal-save" class="btn-primary">Save</button>
      </div>
    </div>
  </div>

  <div id="new-project-overlay" class="modal-overlay hidden" aria-hidden="true">
    <div class="modal modal-small" role="dialog" aria-labelledby="new-project-title">
      <div class="modal-header">
        <h2 id="new-project-title">New project</h2>
        <button type="button" id="new-project-close" class="modal-close" aria-label="Close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="setting-row">
          <label for="new-project-name">Name</label>
          <input type="text" id="new-project-name" placeholder="Project name" />
        </div>
        <div class="setting-row">
          <label for="new-project-description">Description</label>
          <textarea id="new-project-description" placeholder="Optional description" rows="3"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" id="new-project-cancel" class="btn-secondary">Cancel</button>
        <button type="button" id="new-project-create" class="btn-primary">Create</button>
      </div>
    </div>
  </div>

  <div id="new-list-overlay" class="modal-overlay hidden" aria-hidden="true">
    <div class="modal modal-small" role="dialog" aria-labelledby="new-list-title">
      <div class="modal-header">
        <h2 id="new-list-title">New list</h2>
        <button type="button" id="new-list-close" class="modal-close" aria-label="Close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="setting-row">
          <label for="new-list-name">Name</label>
          <input type="text" id="new-list-name" placeholder="List name" />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" id="new-list-cancel" class="btn-secondary">Cancel</button>
        <button type="button" id="new-list-create" class="btn-primary">Create</button>
      </div>
    </div>
  </div>

  <div id="list-settings-overlay" class="modal-overlay hidden" aria-hidden="true">
    <div class="modal modal-list-settings" role="dialog" aria-labelledby="list-settings-title" aria-modal="true">
      <div class="modal-header">
        <h2 id="list-settings-title">List filter &amp; sort</h2>
        <button type="button" id="list-settings-close" class="modal-close" aria-label="Close">&times;</button>
      </div>
      <div class="modal-body modal-body-scroll">
        <section class="list-settings-section">
          <h3 class="list-settings-section-title">Filters</h3>
          <p class="setting-hint">Group conditions with AND/OR. Add groups to nest. Dates: type an expression (e.g. today, today+3) or use the date picker.</p>
          <div id="list-settings-filters" class="list-settings-filters"></div>
        </section>
        <section class="list-settings-section">
          <h3 class="list-settings-section-title">Sort</h3>
          <div id="list-settings-sort" class="list-settings-sort"></div>
          <button type="button" id="list-settings-add-sort" class="btn-secondary btn-sm">Add sort level</button>
        </section>
      </div>
      <div class="modal-footer">
        <button type="button" id="list-settings-cancel" class="btn-secondary">Cancel</button>
        <button type="button" id="list-settings-save" class="btn-primary">Save</button>
      </div>
    </div>
  </div>

  <div id="custom-date-format-overlay" class="modal-overlay hidden" aria-hidden="true">
    <div class="modal modal-small" role="dialog" aria-labelledby="custom-format-title">
      <div class="modal-header">
        <h2 id="custom-format-title">Custom date format</h2>
        <button type="button" id="custom-format-close" class="modal-close" aria-label="Close">&times;</button>
      </div>
      <div class="modal-body">
        <p class="setting-hint">Use placeholders: <strong>YYYY</strong> = year, <strong>MM</strong> or <strong>M</strong> = month, <strong>DD</strong> or <strong>D</strong> = day. <strong>MMM</strong> = short month (Jan), <strong>MMMM</strong> = full month (January).</p>
        <div class="setting-row">
          <label for="custom-format-input">Format pattern</label>
          <input type="text" id="custom-format-input" placeholder="e.g. YYYY-MM-DD or DD/MM/YYYY" />
        </div>
        <p class="setting-hint example">Example: <span id="custom-format-preview">—</span></p>
      </div>
      <div class="modal-footer">
        <button type="button" id="custom-format-cancel" class="btn-secondary">Cancel</button>
        <button type="button" id="custom-format-save" class="btn-primary">Save</button>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
